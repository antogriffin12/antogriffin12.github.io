{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "title": {
    "text": "Occupied vs Unoccupied Housing Across Australian States",
    "subtitle": "Private dwellings by state/territory (millions)",
    "anchor": "start",
    "fontSize": 22,
    "font": "Arial, sans-serif",
    "fontWeight": "bold",
    "subtitleFontSize": 14,
    "subtitleFont": "Arial, sans-serif",
    "subtitlePadding": 5
  },
  "width": 500,
  "height": 250,
  "background": "white",
  "data": {
    "url": "https://raw.githubusercontent.com/antogriffin12/antogriffin12.github.io/refs/heads/main/ABC_data.csv"
  },
  "transform": [
    {
      "filter": "datum['Housing type'] != 'Total'"
    },
    {
      "fold": ["Occupied private dwellings", "Unoccupied private dwellings"],
      "as": ["Category", "Value"]
    },
    {
      "calculate": "datum.Value / 1000000",
      "as": "Value_Millions"
    }
  ],
  "mark": {
    "type": "bar"
  },
  "encoding": {
    "x": {
      "field": "Housing type",
      "type": "nominal",
      "title": "State/Territory",
      "axis": {
        "labelAngle": -45,
        "labelFontSize": 12,
        "labelAlign": "right",
        "titleFontSize": 13,
        "titleFontWeight": "bold",
        "titlePadding": 10
      },
      "sort": "-y"
    },
    "y": {
      "field": "Value_Millions",
      "type": "quantitative",
      "title": "Number of Dwellings (millions)",
      "axis": {
        "labelFontSize": 12,
        "titleFontSize": 13,
        "titleFontWeight": "bold",
        "grid": true,
        "gridOpacity": 0.3
      }
    },
    "color": {
      "field": "Category",
      "type": "nominal",
      "scale": {
        "domain": ["Occupied private dwellings", "Unoccupied private dwellings"],
        "range": ["#2E7D32", "#D32F2F"]
      },
      "legend": {
        "title": null,
        "orient": "top",
        "labelFontSize": 12,
        "labelLimit": 300,
        "symbolSize": 200
      }
    },
    "xOffset": {
      "field": "Category"
    }
  },
  "config": {
    "view": {"stroke": null},
    "axis": {
      "labelColor": "#333",
      "titleColor": "#333"
    }
  }
}